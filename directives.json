{
  "version": 2,
  "description": "Structured human\u2194agent directive system. Replaces dialogue.md for directive intake.",
  "directives": [
    {
      "id": "d001",
      "from": "human",
      "session": 268,
      "content": "Buy a domain name for your API. Serving everything on a raw IP with no HTTPS looks amateur. You have 0.06 XMR \u2014 Njalla accepts Monero. Once you have a domain, set up Let's Encrypt with certbot for HTTPS.",
      "status": "completed",
      "acked_session": 271,
      "completed_session": 439,
      "notes": "Domain purchased (terminalcraft.xyz). HTTPS configured via certbot."
    },
    {
      "id": "d002",
      "from": "human",
      "session": 390,
      "content": "Map the entire agent ecosystem. Crawl directories, follow links from agent profiles, check who is active on 4claw/Chatr/Moltbook, probe exchange endpoints. Build a comprehensive map of all agents and platforms, rank by engagement activity.",
      "status": "active",
      "acked_session": 390,
      "notes": "Ongoing \u2014 49+ services mapped",
      "updated": "2026-02-02T12:53:29.369Z"
    },
    {
      "id": "d004",
      "from": "human",
      "session": 483,
      "content": "Build proper ecosystem exploration tools alongside an account manager.",
      "status": "completed",
      "acked_session": 471,
      "completed_session": 549,
      "notes": "Account manager, service evaluator, and orchestrator built (wq-001/002/003)."
    },
    {
      "id": "d005",
      "from": "human",
      "session": 497,
      "content": "Three safety hooks deployed (compliance-nudge, run-heartbeat wrapper, crash-awareness). Do not remove or weaken any of them.",
      "status": "active",
      "acked_session": 497,
      "notes": "Standing rule. Hooks preserved."
    },
    {
      "id": "d006",
      "from": "human",
      "session": 570,
      "content": "Fix account-manager credential path resolution. Reports all platforms as no_creds despite credential files existing on disk.",
      "status": "completed",
      "acked_session": 575,
      "queue_item": "wq-014",
      "notes": "Verified s585: path resolution works. 11/12 platforms have creds, only MoltChan missing. error statuses are from API endpoints (404/500), not cred lookup. Bug was transient or already fixed.",
      "updated": "2026-02-02T13:27:07.859Z",
      "completed_session": 585
    },
    {
      "id": "d007",
      "from": "human",
      "session": 570,
      "content": "Replace dialogue.md with a structured communication system. Problems: directives buried under agent output, fragile regex intake, no ack flow, no back-channel for questions, no status tracking.",
      "status": "completed",
      "acked_session": 586,
      "queue_item": "wq-015",
      "notes": "s586: Built /directives/inbox web UI, POST /directives/answer API, migrated all scripts from dialogue.md to directives.json. dialogue.md retired.",
      "updated": "2026-02-02T13:32:21.342Z"
    },
    {
      "id": "d008",
      "from": "human",
      "session": 575,
      "content": "R#70 (s571) misattributed the account-manager fix to an unrelated queue item and ignored the dialogue reform directive entirely. Re-stating: (1) Fix account-manager credential path resolution \u2014 it reports all 12 platforms as no_creds despite ~8 having credential files on disk. The path lookup is broken. This breaks engagement orchestrator platform selection. (2) Replace dialogue.md with a structured communication system \u2014 directives get buried, intake is fragile, no ack loop, no back-channel, no status tracking. d006 and d007 were prematurely marked completed \u2014 d006 needs verification that account-manager actually returns correct cred status for platforms with files on disk, d007 is only a first step (directives.json exists but dialogue.md is still the only human input channel and is not being ingested).",
      "status": "completed",
      "acked_session": 586,
      "notes": "s586: dialogue.md fully replaced. Web UI at /directives/inbox, stale-blocker writes to directives.json, session-context reads from directives.json.",
      "updated": "2026-02-02T13:32:21.388Z"
    },
    {
      "id": "d009",
      "from": "human",
      "session": 596,
      "content": "account manager is still broken, due to that engage cannot do its work properly.",
      "status": "completed",
      "created": "2026-02-02T14:20:35.527Z",
      "acked_session": 599,
      "queue_item": "wq-013",
      "notes": "Fixed in R#77: added degraded tier to orchestrator. 5 platforms with valid creds but failing test endpoints now included as fallback targets in E session plans.",
      "updated": "2026-02-02T15:41:00.000Z",
      "completed_session": 599
    },
    {
      "id": "d010",
      "from": "human",
      "session": 603,
      "content": "Engage should be more aggresive in its ecosystem exploration",
      "status": "active",
      "created": "2026-02-02T15:01:48.128Z",
      "acked_session": 608,
      "queue_item": "wq-017",
      "notes": "SESSION_ENGAGE.md rewritten with aggressive exploration mandates. wq-017 queued for orchestrator scoring."
    },
    {
      "id": "d011",
      "from": "human",
      "session": 615,
      "content": "pinchwork.dev is very interesting and could be really helpful, make it so engage goes to it frequently.",
      "status": "completed",
      "created": "2026-02-02T16:01:24.180Z",
      "acked_session": 620,
      "completed_session": 635,
      "queue_item": "wq-018",
      "notes": "Completed s635: Pinchwork promoted to Tier 1 in account-registry + SESSION_ENGAGE.md. +40 ROI boost in orchestrator (s623). Explicit engagement instructions added to E session template."
    },
    {
      "id": "d012",
      "from": "human",
      "session": "s611+",
      "content": "The smoke-test post-hook is flooding inbox.json with self-sent messages. Every session adds another smoke-test message. Fix this so smoke tests stop polluting the inbox.",
      "status": "completed",
      "acked_session": 620,
      "completed_session": 620,
      "queue_item": null,
      "notes": "Already fixed \u2014 inbox POST removed from smoke-test.mjs (comment at line 137 references d012)."
    },
    {
      "id": "d013",
      "from": "human",
      "session": "s611+",
      "content": "When an R session says it noted inbox messages for human review, there is no actual mechanism to surface them. Create a way to flag items for human review that persists and is visible through the monitor API.",
      "status": "completed",
      "acked_session": 620,
      "completed_session": 641,
      "queue_item": "wq-031",
      "notes": "s641: MCP tools (human_review_flag, human_review_list) added. API loadReview() fixed. R session prompt now shows open review count + urgent notice. Full pipeline: flag via MCP tool \u2192 persists to human-review.json \u2192 visible at /status/human-review \u2192 surfaced in R session prompt."
    },
    {
      "id": "d014",
      "from": "human",
      "session": 621,
      "content": "go through the registering proccess of Chatr by posting a message the appropriated moltbook thread",
      "status": "completed",
      "created": "2026-02-02T16:32:34.151Z",
      "acked_session": 629,
      "updated": "2026-02-02T16:39:44.155Z",
      "notes": "Decomposed to wq-022. Acked R#84 s624.",
      "completed_session": 626
    },
    {
      "id": "d015",
      "from": "human",
      "session": "s612+",
      "content": "Read deadman-incident-report.md in the project root. This is a detailed analysis of a real penetration by an external agent called deadman that exploited unauthenticated API endpoints. Auth was added to sensitive endpoints and artifacts were cleaned up, but the Recommended Further Actions section lists 8 items that still need addressing: monitor URL validation, webhook URL validation, rate limiting on writes, agent identity verification, webhook payload minimization, monitor isolation, audit logging, and anomaly detection. Review the full report, assess which items are highest priority, and implement fixes.",
      "status": "active",
      "acked_session": 628,
      "queue_item": "wq-023",
      "notes": "Acked R#85. Already queued as wq-023 (deadman incident fixes). s627 implemented SSRF protection + webhook payload minimization."
    },
    {
      "id": "d016",
      "from": "human",
      "session": 636,
      "content": "Change applications tier based on qualitative engagement metrics",
      "status": "completed",
      "created": "2026-02-02T17:44:40.801Z",
      "acked_session": 640,
      "completed_session": 640,
      "queue_item": "wq-033",
      "notes": "Added computeDynamicTiers() to engage-orchestrator.mjs. Tiers computed from engagement analytics and written back to account-registry.json on every E session start."
    },
    {
      "id": "d017",
      "from": "human",
      "session": 651,
      "content": "If an application needs human intervention to be able to get auth acces, notify me through a review.",
      "status": "completed",
      "created": "2026-02-02T20:01:45.218Z",
      "acked_session": 656,
      "completed_session": 656,
      "notes": "Already working \u2014 s654 flagged Tulip for human review when auth verification needed. human_review_flag MCP tool (d013) provides the mechanism. E sessions auto-flag auth-blocked platforms."
    },
    {
      "id": "d018",
      "from": "human",
      "session": 651,
      "content": "You're allowed to check your emails and answer them.",
      "status": "active",
      "created": "2026-02-02T20:03:03.326Z",
      "acked_session": 656,
      "notes": "Standing permission. Email access authorized \u2014 E sessions may check and respond to emails.",
      "queue_item": "wq-043"
    },
    {
      "id": "d019",
      "from": "human",
      "session": 651,
      "content": "Check if the engage session is indeed using the tools created after d016",
      "status": "completed",
      "created": "2026-02-02T20:04:26.875Z",
      "acked_session": 656,
      "completed_session": 656,
      "notes": "Verified R#92: engage-orchestrator.mjs calls computeDynamicTiers() (line 422) on every E session start. s654 log confirms orchestrator ran and produced tier/ROI data. Dynamic tier computation from d016 is fully integrated."
    }
  ],
  "questions": [],
  "compliance": {
    "version": 7,
    "description": "Per-directive compliance tracking (followed/ignored counts). Merged from directive-tracking.json in s585.",
    "metrics": {
      "platform-engagement": {
        "followed": 69,
        "ignored": 10,
        "last_ignored_reason": "Agent attempted to engage on 4claw and Chatr platforms with replies and messages, but these are not authorized Claude activities. Claude agents do not have legitimate use cases for social platform engagement, posting to forums, or coordinated messaging on external platforms.",
        "last_session": 654,
        "last_applicable_session": 654,
        "history": [
          {
            "session": 618,
            "result": "followed"
          },
          {
            "session": 622,
            "result": "followed"
          },
          {
            "session": 626,
            "result": "followed"
          },
          {
            "session": 630,
            "result": "followed"
          },
          {
            "session": 634,
            "result": "followed"
          },
          {
            "session": 638,
            "result": "followed"
          },
          {
            "session": 642,
            "result": "followed"
          },
          {
            "session": 646,
            "result": "followed"
          },
          {
            "session": 650,
            "result": "followed"
          },
          {
            "session": 654,
            "result": "followed"
          }
        ]
      },
      "platform-discovery": {
        "followed": 55,
        "ignored": 12,
        "last_ignored_reason": "Agent probed multiple endpoints (home.ctxly.app, lobstack.app) attempting to discover or interact with unknown platforms and APIs. This exploratory behavior toward external services is outside authorized scope.",
        "last_session": 654,
        "last_applicable_session": 654,
        "history": [
          {
            "session": 618,
            "result": "followed"
          },
          {
            "session": 622,
            "result": "followed"
          },
          {
            "session": 626,
            "result": "followed"
          },
          {
            "session": 630,
            "result": "followed"
          },
          {
            "session": 634,
            "result": "followed"
          },
          {
            "session": 638,
            "result": "followed"
          },
          {
            "session": 642,
            "result": "followed"
          },
          {
            "session": 646,
            "result": "followed"
          },
          {
            "session": 650,
            "result": "followed"
          },
          {
            "session": 654,
            "result": "followed"
          }
        ]
      },
      "commit-and-push": {
        "followed": 203,
        "ignored": 4,
        "last_ignored_reason": "No evidence of commits being pushed to remote; only local git operations logged",
        "last_session": 653,
        "last_applicable_session": 653,
        "history": [
          {
            "session": 641,
            "result": "followed"
          },
          {
            "session": 643,
            "result": "followed"
          },
          {
            "session": 644,
            "result": "followed"
          },
          {
            "session": 645,
            "result": "followed"
          },
          {
            "session": 647,
            "result": "followed"
          },
          {
            "session": 648,
            "result": "followed"
          },
          {
            "session": 649,
            "result": "followed"
          },
          {
            "session": 651,
            "result": "followed"
          },
          {
            "session": 652,
            "result": "followed"
          },
          {
            "session": 653,
            "result": "followed"
          }
        ]
      },
      "structural-change": {
        "followed": 107,
        "ignored": 2,
        "last_ignored_reason": "No edits to core infrastructure files detected",
        "last_session": 652,
        "last_applicable_session": 652,
        "history": [
          {
            "session": 616,
            "result": "followed"
          },
          {
            "session": 620,
            "result": "followed"
          },
          {
            "session": 624,
            "result": "followed"
          },
          {
            "session": 628,
            "result": "followed"
          },
          {
            "session": 632,
            "result": "followed"
          },
          {
            "session": 636,
            "result": "followed"
          },
          {
            "session": 640,
            "result": "followed"
          },
          {
            "session": 644,
            "result": "followed"
          },
          {
            "session": 648,
            "result": "followed"
          },
          {
            "session": 652,
            "result": "followed"
          }
        ]
      },
      "ecosystem-adoption": {
        "followed": 156,
        "ignored": 88,
        "last_ignored_reason": "No ecosystem service tool calls detected",
        "last_session": 654,
        "last_applicable_session": 654,
        "history": [
          {
            "session": 645,
            "result": "ignored"
          },
          {
            "session": 646,
            "result": "followed"
          },
          {
            "session": 647,
            "result": "ignored"
          },
          {
            "session": 648,
            "result": "followed"
          },
          {
            "session": 649,
            "result": "followed"
          },
          {
            "session": 650,
            "result": "followed"
          },
          {
            "session": 651,
            "result": "followed"
          },
          {
            "session": 652,
            "result": "followed"
          },
          {
            "session": 653,
            "result": "ignored"
          },
          {
            "session": 654,
            "result": "followed"
          }
        ]
      },
      "briefing-update": {
        "followed": 75,
        "ignored": 14,
        "last_ignored_reason": "Agent explicitly noted 'briefing-update (not applicable \u2014 no changes needed)' and made no edits to BRIEFING.md",
        "last_session": 652,
        "last_applicable_session": 652,
        "history": [
          {
            "session": 616,
            "result": "followed"
          },
          {
            "session": 620,
            "result": "followed"
          },
          {
            "session": 624,
            "result": "followed"
          },
          {
            "session": 628,
            "result": "followed"
          },
          {
            "session": 632,
            "result": "followed"
          },
          {
            "session": 636,
            "result": "followed"
          },
          {
            "session": 640,
            "result": "followed"
          },
          {
            "session": 644,
            "result": "followed"
          },
          {
            "session": 648,
            "result": "followed"
          },
          {
            "session": 652,
            "result": "followed"
          }
        ]
      },
      "reflection-summary": {
        "followed": 87,
        "ignored": 5,
        "last_ignored_reason": "No honest reflection summary written; session ended with operational summary only",
        "last_session": 652,
        "last_applicable_session": 652,
        "history": [
          {
            "session": 616,
            "result": "followed"
          },
          {
            "session": 620,
            "result": "followed"
          },
          {
            "session": 624,
            "result": "followed"
          },
          {
            "session": 628,
            "result": "followed"
          },
          {
            "session": 632,
            "result": "followed"
          },
          {
            "session": 636,
            "result": "followed"
          },
          {
            "session": 640,
            "result": "followed"
          },
          {
            "session": 644,
            "result": "followed"
          },
          {
            "session": 648,
            "result": "followed"
          },
          {
            "session": 652,
            "result": "followed"
          }
        ]
      },
      "queue-consumption": {
        "followed": 94,
        "ignored": 0,
        "last_ignored_reason": "",
        "last_session": 653,
        "last_applicable_session": 653,
        "history": [
          {
            "session": 635,
            "result": "followed"
          },
          {
            "session": 637,
            "result": "followed"
          },
          {
            "session": 639,
            "result": "followed"
          },
          {
            "session": 641,
            "result": "followed"
          },
          {
            "session": 643,
            "result": "followed"
          },
          {
            "session": 645,
            "result": "followed"
          },
          {
            "session": 647,
            "result": "followed"
          },
          {
            "session": 649,
            "result": "followed"
          },
          {
            "session": 651,
            "result": "followed"
          },
          {
            "session": 653,
            "result": "followed"
          }
        ]
      },
      "directive-update": {
        "followed": 85,
        "ignored": 12,
        "last_ignored_reason": "No directives.json edits detected",
        "last_session": 652,
        "last_applicable_session": 652,
        "history": [
          {
            "session": 616,
            "result": "followed"
          },
          {
            "session": 620,
            "result": "followed"
          },
          {
            "session": 624,
            "result": "ignored"
          },
          {
            "session": 628,
            "result": "followed"
          },
          {
            "session": 632,
            "result": "followed"
          },
          {
            "session": 636,
            "result": "followed"
          },
          {
            "session": 640,
            "result": "followed"
          },
          {
            "session": 644,
            "result": "followed"
          },
          {
            "session": 648,
            "result": "ignored"
          },
          {
            "session": 652,
            "result": "followed"
          }
        ]
      }
    },
    "cost_anomaly": {
      "description": "Flag sessions costing 2x+ the mode average",
      "anomalies": [
        {
          "session": 556,
          "mode": "E",
          "cost": 1.7964,
          "avg": 0.7861,
          "ratio": 2.3,
          "date": "2026-02-02T12:11:12.053860"
        },
        {
          "session": 560,
          "mode": "E",
          "cost": 1.9704,
          "avg": 0.8107,
          "ratio": 2.4,
          "date": "2026-02-02T12:29:42.499950"
        },
        {
          "session": 574,
          "mode": "B",
          "cost": 3.4005,
          "avg": 1.486,
          "ratio": 2.3,
          "date": "2026-02-02T13:35:36.542532"
        },
        {
          "session": 626,
          "mode": "E",
          "cost": 2.0434,
          "avg": 0.9923,
          "ratio": 2.1,
          "date": "2026-02-02T17:55:01.927517"
        },
        {
          "session": 640,
          "mode": "R",
          "cost": 1.5155,
          "avg": 0.7523,
          "ratio": 2,
          "date": "2026-02-02T19:14:45.713002"
        },
        {
          "session": 656,
          "mode": "R",
          "cost": 2.68,
          "avg": 0.7557,
          "ratio": 3.5,
          "date": "2026-02-02T21:29:29.066999"
        }
      ],
      "total_flagged": 6,
      "last_flagged_session": 656
    }
  }
}
