{
  "version": 2,
  "description": "Structured work queue for build sessions. Items consumed top-down. R sessions populate via directive intake and direct promotion. Status lifecycle: pending → in-progress → done | blocked | retired. Blocked items may have a blocker_check (shell command) — heartbeat.sh runs it before B sessions and auto-promotes to pending on exit 0. Retired items are permanently shelved (blocked 100+ sessions with no resolution path). Items may declare deps: [\"wq-XXX\"] — items with unmet deps are skipped by next/start and heartbeat task assignment.",
  "queue": [
    {
      "id": "wq-014",
      "title": "TODO followup: \"42 tests added: dedup, auto-promote, auto-seed, TODO ingest, intel, shell env\"",
      "description": "\"42 tests added: dedup, auto-promote, auto-seed, TODO ingest, intel, shell env\"",
      "priority": 14,
      "status": "retired",
      "added": "2026-02-02",
      "source": "todo-scan",
      "complexity": "S",
      "tags": [
        "followup"
      ],
      "commits": [],
      "notes": "Not a real TODO — spurious scan artifact from test file commit message"
    },
    {
      "id": "wq-019",
      "title": "Add tests for session-context.mjs",
      "description": "Touched 4 times in last 20 sessions — stabilize with unit tests",
      "priority": 19,
      "status": "retired",
      "notes": "Already at 94 subtests with full coverage from s597/s601/s611/s621. Diminishing returns.",
      "added": "2026-02-02",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": []
    },
    {
      "id": "wq-045",
      "title": "Add /status/costs endpoint for session cost trends",
      "description": "Aggregate session-cost.txt history into a /status/costs endpoint showing per-type averages and budget efficiency over time. Useful for tuning per-type budget caps.",
      "priority": 45,
      "status": "retired",
      "added": "2026-02-02",
      "source": "brainstorming-promote",
      "tags": [
        "api",
        "observability"
      ],
      "commits": [],
      "notes": "s158: Already addressed by /status/cost-distribution?format=json which provides per-type averages, totals, rolling trends, and utilization ratios. Endpoint exists since wq-003."
    },
    {
      "id": "wq-046",
      "title": "Address directive d021",
      "description": "Concerning the hr-tulip-verify-s654 auth_access, you didn't give me the claim URL.",
      "priority": 46,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "R#112: Human answered — Tulip is invitation-only and human wasn't invited. Platform set to rejected. d021 completed."
    },
    {
      "id": "wq-070",
      "title": "Get LinkClaws invite code",
      "description": "LinkClaws is invite-only. Request code from human or existing agent to register.",
      "priority": 70,
      "status": "retired",
      "added": "2026-02-03",
      "source": "B#162-service-eval",
      "tags": [
        "ecosystem",
        "registration"
      ],
      "commits": [],
      "notes": "B#186: Retired per d032 — human checked LinkClaws and found nothing of interest."
    },
    {
      "id": "wq-072",
      "title": "Register on MoltWorld",
      "description": "Pixel-art agent world with REST+WebSocket API. Requires Moltbook key.",
      "priority": 72,
      "status": "retired",
      "added": "2026-02-03",
      "source": "B#162-service-eval",
      "tags": [
        "ecosystem",
        "registration"
      ],
      "commits": [],
      "notes": "R#123: Retired per wq-146 — blocked 470+ sessions on Moltbook API (broken since ~s320). No resolution path."
    },
    {
      "id": "wq-066",
      "title": "Add tests for audit-report.json",
      "description": "Touched 5 times in last 20 sessions — stabilize with unit tests",
      "priority": 66,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#161: Duplicate of wq-062 (already completed). Tests exist in session-context.test.mjs lines 618-765."
    },
    {
      "id": "wq-067",
      "title": "Address directive d018",
      "description": "You're allowed to check your emails and answer them.",
      "priority": 67,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "R#114: d018 completed. AgentMail API key provided in d030. Credentials configured at ~/.agentmail-creds.json. Inbox: terminalcraft@agentmail.to. Email tools in components/email.js ready to use."
    },
    {
      "id": "wq-076",
      "title": "Generate 5 concrete build tasks from open directives",
      "description": "Prevent queue starvation by pre-decomposing directive work",
      "priority": 76,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#165: Reviewed directives.json — all active directives are either standing rules (d005), ongoing background work (d002), or blocked on human input (d018, d021). No decomposable work available."
    },
    {
      "id": "wq-080",
      "title": "Batch-evaluate 5 undiscovered services (d002)",
      "description": "systematically probe unevaluated services from services.json (on hold — 0 discovered services remaining)",
      "priority": 80,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "A#8 s741: Superseded by wq-106. Previous 'blocked' status was based on incorrect count (s736 claimed 0 discovered but actual count is 29). wq-106 handles this with audit tag."
    },
    {
      "id": "wq-112",
      "title": "Address directive d025",
      "description": "Auto-escalation: 1 work queue items blocked >30 sessions: wq-046 (Address directive d021, blocked 30s, blocker: ). Human",
      "priority": 112,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#181: Duplicate of wq-121. d025 was already completed in wq-121."
    },
    {
      "id": "wq-121",
      "title": "Investigate why wq-119/wq-120 remain unworked after 5 sessions",
      "description": "Audit items from s751 created but never picked up by B sessions. Either audit-tagged items need higher visibility in task assignment or B sessions are skipping them intentionally. Check heartbeat.sh task assignment logic.",
      "priority": 121,
      "status": "retired",
      "added": "2026-02-03",
      "source": "audit-s756",
      "tags": [
        "audit",
        "process"
      ],
      "commits": [],
      "notes": "B#183: Moot — wq-119 and wq-120 completed this session. Task assignment worked fine once the items were actually assigned. No heartbeat.sh issue found."
    },
    {
      "id": "wq-123",
      "title": "Change d005 status from pending to active",
      "description": "d005 (safety hooks standing rule) is marked 'pending' but should be 'active' since it's a perpetual rule, not a task awaiting completion.",
      "priority": 123,
      "status": "retired",
      "added": "2026-02-03",
      "source": "audit-s756",
      "tags": [
        "audit",
        "cleanup"
      ],
      "commits": [],
      "notes": "B#183: Already fixed. d005 status is 'active' in directives.json (verified)."
    },
    {
      "id": "wq-124",
      "title": "VARIETY ALERT (R#113 s755)",
      "description": "Engagement over-concentrated on 4claw.org (64% of recent actions). Per d027 step 5, E sessions should diversify to: Pinchwork (Tier 1 priority), Chatr (underutilized), Colony/MDI/Lobstack (Tier 3 with working creds). Next E session must prioritize non-4claw platforms.",
      "priority": 124,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#186: Retired — this is E-session guidance, not B-session work. The instruction is embedded in d027 notes and will apply to next E session automatically."
    },
    {
      "id": "wq-125",
      "title": "Address directive d026",
      "description": "Auto-escalation: 2 work queue items blocked >30 sessions: wq-070 (Get LinkClaws invite code, blocked 30s, blocker: ), wq",
      "priority": 125,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#186: Resolved — wq-070 retired per d032, wq-072 still blocked on Moltbook API (unchanged)."
    },
    {
      "id": "wq-126",
      "title": "Address directive d028",
      "description": "Auto-escalation: 1 work queue items blocked >30 sessions: wq-067 (Address directive d018, blocked 30s, blocker: ). Human",
      "priority": 126,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#186: Resolved — d018 already completed in s760, wq-067 already retired."
    },
    {
      "id": "wq-127",
      "title": "Address directive d031",
      "description": "you've not solved any task on https://pinchwork.dev it seems",
      "priority": 127,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [
        "engage-work"
      ],
      "commits": [],
      "notes": "R#115: This is E-session work. Structural change in SESSION_ENGAGE.md (R#115) adds Pinchwork task-solving protocol with HARD RULE to attempt at least one task per E session."
    },
    {
      "id": "wq-128",
      "title": "Deep-explore one new platform end-to-end (d027)",
      "description": "pick an unevaluated service, register, post, measure response",
      "priority": 128,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [
        "engage-work"
      ],
      "commits": [],
      "notes": "R#115: This is E-session exploration mandate (already in SESSION_ENGAGE.md Phase 2)."
    },
    {
      "id": "wq-140",
      "title": "Escalate d031 (Pinchwork tasks) — flag for human review if unresolved by s790",
      "description": "d031 acked s764, now s778 — 14 sessions without any Pinchwork tasks solved. E sessions are engaging with Pinchwork (checking /v1/me) but not actually solving tasks. If still unresolved by s790, escalate to human-review.json.",
      "priority": 140,
      "status": "retired",
      "added": "2026-02-03",
      "source": "audit-s778",
      "complexity": "S",
      "tags": [
        "audit",
        "directive"
      ],
      "commits": [],
      "notes": "R#122: Retired — superseded by wq-143 which has same deadline."
    },
    {
      "id": "wq-142",
      "title": "TODO followup: \"task_id\": \"wq-XXX\",",
      "description": "\"task_id\": \"wq-XXX\",",
      "priority": 142,
      "status": "retired",
      "added": "2026-02-03",
      "source": "todo-scan",
      "complexity": "S",
      "tags": [
        "followup"
      ],
      "commits": [],
      "notes": "R#122: Checkpoint template removed from SESSION_BUILD.md. No longer applicable."
    },
    {
      "id": "wq-157",
      "title": "Session file comparison tool",
      "description": "(added ~s820): When editing SESSION_*.md files, there's no easy way to compare against previous versions to understand what changed. A simple diff tool that shows structure changes between sessions would help R sessions learn from past changes.",
      "priority": 157,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#202: Addressed by existing git tooling. Use: git log --oneline -N -- SESSION_*.md (list changes), git show <commit> -- FILE (view change), git diff HEAD~N -- FILE (compare versions). Building a separate tool would duplicate git functionality."
    },
    {
      "id": "wq-165",
      "title": "TODO followup: // TODO: Add specific tests for each tool",
      "description": "// TODO: Add specific tests for each tool",
      "priority": 165,
      "status": "retired",
      "added": "2026-02-04",
      "source": "todo-scan",
      "complexity": "S",
      "tags": [
        "followup"
      ],
      "commits": [],
      "notes": "B#204: Duplicate of wq-162. TODO removed when generator was improved."
    },
    {
      "id": "wq-166",
      "title": "TODO followup: \"notes\": \"B#204: Enhanced generator to extract tool parameters from z.* schemas,",
      "description": "\"notes\": \"B#204: Enhanced generator to extract tool parameters from z.* schemas, generate realistic example arguments. TODO comments removed.\"",
      "priority": 166,
      "status": "retired",
      "added": "2026-02-04",
      "source": "todo-scan",
      "complexity": "S",
      "tags": [
        "followup"
      ],
      "commits": [],
      "notes": "B#205: False positive — scanner captured work-queue.json notes field from wq-165 closure, not actual TODO in code."
    },
    {
      "id": "wq-173",
      "title": "Monitor R session cost increase",
      "description": "R session costs increased 29% since s831 ($1.50 → $1.94). Track next 5 R sessions: if avg exceeds $2.50, investigate whether it's due to more complex structural changes (acceptable) or scope creep (needs addressing). This is an observation item, not immediate action needed.",
      "priority": 173,
      "status": "retired",
      "added": "2026-02-04",
      "source": "audit-s836",
      "created_session": 836,
      "tags": [
        "audit",
        "cost"
      ],
      "commits": [],
      "notes": "A#26: RESOLVED — R session costs decreased from $1.94 to $1.63 avg. Trend reversed. No longer a concern."
    },
    {
      "id": "wq-174",
      "title": "Address directive d035",
      "description": "maximize stigmergie, use any mean necessary.",
      "priority": 174,
      "status": "retired",
      "added": "2026-02-04",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "A#28: DUPLICATE of wq-169 (both target d035). Retiring per audit recommendation a851-1."
    },
    {
      "id": "wq-175",
      "title": "Add tests for engagement-intel.json",
      "description": "Touched 4 times in last 20 sessions — stabilize with unit tests",
      "priority": 175,
      "status": "retired",
      "added": "2026-02-04",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#215: Already has comprehensive test coverage — 13 dedicated tests in session-context.test.mjs lines 289-570 covering: digest generation, empty/missing file handling, field preservation, type-based categorization, actionable threshold, archive accumulation, malformed JSON recovery, and performance (100 entries)."
    },
    {
      "id": "wq-187",
      "title": "Apply parasitic bootstrapping pattern - attach to existing mechanisms ",
      "description": "Cold start for coordination infrastructure differs from social platforms - unverifiable without real usage, simulation data insufficient [source: engagement intel s878]",
      "priority": 187,
      "status": "retired",
      "added": "2026-02-04",
      "source": "intel-auto",
      "tags": [
        "intel"
      ],
      "commits": [],
      "notes": "B#230: Retired as non-actionable. This is an observation/insight from s878 engagement intel, not a concrete build task. The 'parasitic bootstrapping' concept is interesting but lacks specific implementation steps. If needed, decompose into concrete tasks first."
    },
    {
      "id": "wq-188",
      "title": "Extract shared exponential backoff library",
      "description": "Knowledge base notes 'exponential backoff for failed API actions' as consensus pattern, but implementation is scattered. engagement.js has inline Math.pow(2, attempts) * 60000, agentchan.js uses retry_after, colony.js has manual auth retry. Extract to lib/retry.mjs with configurable max retries, base delay, and jitter. Reduces duplication across 5+ components.",
      "priority": 188,
      "status": "retired",
      "added": "2026-02-04",
      "source": "R#141-brainstorm-promote",
      "tags": [
        "infra",
        "refactor"
      ],
      "commits": [],
      "notes": "B#230: Investigated. The '5+ components' claim was overstated. Actual usage: 4 instances in engagement.js only (2 session-based, 2 time-based). agentchan.js just displays retry_after from API responses, colony.js has simple auth retry message. Not enough duplication to justify a shared library — would be over-engineering."
    },
    {
      "id": "wq-195",
      "title": "Stale pattern pruning automation",
      "description": "(added ~s899): knowledge_prune tool exists but isn't automated. Consider a pre-session hook that runs `knowledge_prune status` and auto-downgrades patterns older than 30 days with no validation, preventing knowledge base bloat.",
      "priority": 195,
      "status": "retired",
      "added": "2026-02-04",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#232: Premature optimization. Knowledge base has 35 patterns, all <4 days old. knowledge_prune tool exists for manual use. Revisit if pattern count exceeds 100 or staleness becomes a real problem."
    },
    {
      "id": "wq-202",
      "title": "Build lib/platform-recovery.mjs for known error patterns",
      "description": "E sessions hit same errors repeatedly: Chatr timestamp format, OpenWork null token, Molthunt 404. Create a shared library that: (1) exports per-platform error handlers, (2) detects known error patterns from API responses, (3) applies automatic fixes (re-auth, retry with different params), (4) returns structured result. First implementation: Chatr timestamp handling. Source: brainstorm ~s910.",
      "priority": 202,
      "status": "retired",
      "added": "2026-02-04",
      "created_session": 0,
      "source": "session",
      "tags": [],
      "commits": [],
      "notes": "B#239: Retired as premature. The errors mentioned are already fixed or were transient: (1) Chatr timestamp fixed via safeFormatDate in wq-199, (2) OpenWork/Molthunt/SoulMarket verified healthy in wq-200. Building shared error handlers requires actual recurring patterns - none exist currently. Revisit if new recurring API errors emerge."
    },
    {
      "id": "wq-205",
      "title": "Monitor intel→queue promotion quality",
      "description": "wq-187 (only intel-sourced item) was retired as non-actionable. Monitor next 3 intel-auto promotions. If pattern continues (items retired without work), adjust actionable_text threshold in session-context.mjs or require more structured intel format in E sessions. Source: audit-s921 recommendation a921-1.",
      "priority": 205,
      "status": "in-progress",
      "added": "2026-02-04",
      "source": "audit-s921",
      "created_session": 921,
      "tags": [
        "audit",
        "pipeline"
      ],
      "commits": [],
      "notes": "B#241: Created intel-promotion-tracking.json with baseline (wq-187) and potential fixes. Updated SESSION_AUDIT.md with tracking instructions for A sessions. Tracker activates when next intel-auto item appears. Status changes to done after 3 items tracked.",
      "progress_notes": [
        {
          "session": 0,
          "timestamp": "2026-02-04T16:27:15.934Z",
          "text": "B#244: Still waiting for intel-auto promotions (items_tracked=0/3). Queue capacity gate (>=5 pending) preventing intel promotions. Task is monitoring-only, not blocking build work."
        },
        {
          "session": 246,
          "timestamp": "2026-02-04T18:12:00.000Z",
          "text": "B#246: Monitoring task still valid. Queue at 4 pending (wq-212,213,214 + this). Intel promotion will trigger when pending drops to <5. Not stuck — designed to wait for promotion events."
        },
        {
          "session": 247,
          "timestamp": "2026-02-04T18:19:00.000Z",
          "text": "B#247: Queue now at 2 pending (wq-215,216). Capacity gate cleared. Next E or R session should trigger intel promotion. Task progresses when promoted items reach outcome."
        }
      ]
    },
    {
      "id": "wq-209",
      "title": "Rotate compromised credentials (d039)",
      "description": "--priority",
      "priority": 209,
      "status": "blocked",
      "blocker": "Human action required: verify which keys were exposed in git history, contact platform admins (MDI: mydeadinternet.com, Consortium: ai-saas-consortium.fly.dev) for key rotation. See human-review.json item d039-cred-rotate.",
      "added": "2026-02-04",
      "created_session": 0,
      "source": "session",
      "tags": [
        "security"
      ],
      "commits": [],
      "progress_notes": [
        {
          "session": 0,
          "timestamp": "2026-02-04T16:04:37.636Z",
          "text": "B#243: Investigated. Files scrubbed by human. MDI has two different keys (unclear which exposed). Consortium can't rejoin (already member). BLOCKED on human verification of which credentials were actually exposed and contact with platform admins."
        },
        {
          "session": 246,
          "timestamp": "2026-02-04T18:10:00.000Z",
          "text": "B#246: Confirmed blocked on human action. human-review.json already has critical item (d039-cred-rotate). No agent action possible until human verifies exposed keys and contacts platform admins."
        }
      ]
    },
    {
      "id": "wq-214",
      "title": "Add execution history criteria to service-evaluator.mjs",
      "description": "Verifiable execution history as trust bootstrap — showing last N calls with latency/success matters more than uptime badges for API marketplaces. Add evaluation criteria for services that expose call history. Source: engagement intel s903.",
      "priority": 214,
      "status": "done",
      "added": "2026-02-04",
      "created_session": 935,
      "source": "R#152-intel-promote",
      "tags": [
        "tooling",
        "evaluation"
      ],
      "commits": ["8e24847"],
      "notes": "B#247: Added checkExecutionHistory() function that probes common history endpoints (/api/stats, /metrics, /history, etc). Detects latency data, success rates, call counts, and recent activity. Scoring: +1 base, +2 for latency+success_rate, +1 for recent activity. New 'verified_active' verdict tier at 10+ points. Max score now 13."
    },
    {
      "id": "wq-215",
      "title": "Ctxly search query optimization",
      "description": "(updated s922): Ctxly keyword search requires simpler queries. Multi-word queries like \"structural change session evolution\" return 0 results, but single keywords like \"pattern\" or \"session\" work well (10+ results each). When using ctxly_recall, prefer single keywords over phrases.",
      "priority": 215,
      "status": "pending",
      "added": "2026-02-04",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": []
    },
    {
      "id": "wq-216",
      "title": "Intel metric capacity awareness",
      "description": "(added ~s935): The intel→queue \"0% conversion\" metric triggers diagnostics even when promotions are capacity-gated (pending_count >= 5). Fix session-context.mjs prompt block generation to show \"0% - capacity gated\" vs \"0% - no actionable intel\" vs \"X% - actual conversion\". Prevents misleading R session diagnostics.",
      "priority": 216,
      "status": "pending",
      "added": "2026-02-04",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": []
    }
  ]
}
