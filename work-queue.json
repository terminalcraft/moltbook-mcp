{
  "version": 2,
  "description": "Structured work queue for build sessions. Items consumed top-down. R sessions populate via directive intake and direct promotion. Status lifecycle: pending → in-progress → done | blocked | retired. Blocked items may have a blocker_check (shell command) — heartbeat.sh runs it before B sessions and auto-promotes to pending on exit 0. Retired items are permanently shelved (blocked 100+ sessions with no resolution path). Items may declare deps: [\"wq-XXX\"] — items with unmet deps are skipped by next/start and heartbeat task assignment.",
  "queue": [
    {
      "id": "wq-014",
      "title": "TODO followup: \"42 tests added: dedup, auto-promote, auto-seed, TODO ingest, intel, shell env\"",
      "description": "\"42 tests added: dedup, auto-promote, auto-seed, TODO ingest, intel, shell env\"",
      "priority": 14,
      "status": "retired",
      "added": "2026-02-02",
      "source": "todo-scan",
      "complexity": "S",
      "tags": [
        "followup"
      ],
      "commits": [],
      "notes": "Not a real TODO — spurious scan artifact from test file commit message"
    },
    {
      "id": "wq-019",
      "title": "Add tests for session-context.mjs",
      "description": "Touched 4 times in last 20 sessions — stabilize with unit tests",
      "priority": 19,
      "status": "retired",
      "notes": "Already at 94 subtests with full coverage from s597/s601/s611/s621. Diminishing returns.",
      "added": "2026-02-02",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": []
    },
    {
      "id": "wq-045",
      "title": "Add /status/costs endpoint for session cost trends",
      "description": "Aggregate session-cost.txt history into a /status/costs endpoint showing per-type averages and budget efficiency over time. Useful for tuning per-type budget caps.",
      "priority": 45,
      "status": "retired",
      "added": "2026-02-02",
      "source": "brainstorming-promote",
      "tags": [
        "api",
        "observability"
      ],
      "commits": [],
      "notes": "s158: Already addressed by /status/cost-distribution?format=json which provides per-type averages, totals, rolling trends, and utilization ratios. Endpoint exists since wq-003."
    },
    {
      "id": "wq-046",
      "title": "Address directive d021",
      "description": "Concerning the hr-tulip-verify-s654 auth_access, you didn't give me the claim URL.",
      "priority": 46,
      "status": "blocked",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#160: Blocked on human. The Tulip claim URL wasn't returned by API. Human needs to check Tulip web UI profile to find claim link."
    },
    {
      "id": "wq-070",
      "title": "Get LinkClaws invite code",
      "description": "LinkClaws is invite-only. Request code from human or existing agent to register.",
      "priority": 70,
      "status": "blocked",
      "added": "2026-02-03",
      "source": "B#162-service-eval",
      "tags": [
        "ecosystem",
        "registration"
      ],
      "commits": [],
      "notes": "B#162: Platform has full API at /api/v1. skill.md available. 5+ agents active. Need invite code."
    },
    {
      "id": "wq-072",
      "title": "Register on MoltWorld",
      "description": "Pixel-art agent world with REST+WebSocket API. Requires Moltbook key.",
      "priority": 72,
      "status": "blocked",
      "added": "2026-02-03",
      "source": "B#162-service-eval",
      "tags": [
        "ecosystem",
        "registration"
      ],
      "commits": [],
      "notes": "B#162: Requires Moltbook API key. Moltbook writes are broken (per BRIEFING). Blocked until Moltbook API restored."
    },
    {
      "id": "wq-066",
      "title": "Add tests for audit-report.json",
      "description": "Touched 5 times in last 20 sessions — stabilize with unit tests",
      "priority": 66,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#161: Duplicate of wq-062 (already completed). Tests exist in session-context.test.mjs lines 618-765."
    },
    {
      "id": "wq-067",
      "title": "Address directive d018",
      "description": "You're allowed to check your emails and answer them.",
      "priority": 67,
      "status": "blocked",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#164: Blocked on human creating AgentMail account. See hr-agentmail-setup-s157 in human-review.json. Email tools ready in components/email.js."
    },
    {
      "id": "wq-076",
      "title": "Generate 5 concrete build tasks from open directives",
      "description": "Prevent queue starvation by pre-decomposing directive work",
      "priority": 76,
      "status": "retired",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#165: Reviewed directives.json — all active directives are either standing rules (d005), ongoing background work (d002), or blocked on human input (d018, d021). No decomposable work available."
    },
    {
      "id": "wq-080",
      "title": "Batch-evaluate 5 undiscovered services (d002)",
      "description": "systematically probe unevaluated services from services.json (on hold — 0 discovered services remaining)",
      "priority": 80,
      "status": "blocked",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#168: 0 discovered services in registry. All 92 services have been evaluated/integrated/rejected/active. Blocked until new services discovered."
    },
    {
      "id": "wq-081",
      "title": "Auto-queue friction signals",
      "description": "(added s732): Have session-context.mjs check /status/patterns friction_signals and auto-add items to work queue when friction detected. Closes the loop on pattern detection.",
      "priority": 81,
      "status": "done",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#173: Added friction signal ingestion to session-context.mjs for R sessions. Dedup via isTitleDupe. Only runs with SESSION_NUM env to skip tests."
    },
    {
      "id": "wq-082",
      "title": "Pattern-based mode transforms",
      "description": "(added s732): Add hooks/mode-transform/ script that reads /status/patterns and suggests B→R when hot files need stabilization work (tests, refactor). Knowledge digest informed: \"SDK hooks for deterministic control flow\".",
      "priority": 82,
      "status": "done",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#173: Added 40-pattern-friction.sh — triggers B→R when friction_signal >= 8"
    },
    {
      "id": "wq-096",
      "title": "Historical pattern trend storage",
      "description": "(added ~s732, promoted R#109): Store daily /status/patterns snapshots to patterns-history.json. Add /status/patterns/trends endpoint showing how friction evolves over time.",
      "priority": 96,
      "status": "done",
      "added": "2026-02-03",
      "source": "brainstorming-promote",
      "tags": [
        "observability"
      ],
      "commits": ["f8a4d9e"],
      "notes": "B#174: Added /status/patterns/trends endpoint and 23-pattern-snapshot.sh hook. JSONL storage format, trend comparison (recent 10 vs earlier 10)."
    },
    {
      "id": "wq-097",
      "title": "Delete deprecated dialogue.md",
      "description": "dialogue.md (277 lines) still exists despite migration to directives.json completing 150+ sessions ago. Archive content to dialogue-archive.md and delete. See R#109 reference.",
      "priority": 97,
      "status": "done",
      "added": "2026-02-03",
      "source": "audit-s736",
      "tags": [
        "audit",
        "cleanup"
      ],
      "commits": [],
      "created_session": 736,
      "notes": "B#173: Archived 277 lines to dialogue-archive.md, deleted dialogue.md"
    },
    {
      "id": "wq-098",
      "title": "Update HOOKS.md to remove directive-tracking.json reference",
      "description": "HOOKS.md line 15 references directive-tracking.json but no hooks use it. Stale documentation that should be removed or updated.",
      "priority": 98,
      "status": "done",
      "added": "2026-02-03",
      "source": "audit-s736",
      "tags": [
        "audit",
        "docs"
      ],
      "commits": [],
      "created_session": 736,
      "notes": "B#173: Updated to reference directives.json (actual file used by hook), fixed inputs/outputs"
    },
    {
      "id": "wq-099",
      "title": "Re-register on SoulMarket",
      "description": "SoulMarket auth_failed — API key invalid. Re-registration could restore access to the marketplace platform.",
      "priority": 99,
      "status": "done",
      "added": "2026-02-03",
      "source": "audit-s736",
      "tags": [
        "audit",
        "ecosystem"
      ],
      "commits": [],
      "created_session": 736,
      "notes": "B#173: API key verified working — auth_failed was transient. No re-registration needed."
    },
    {
      "id": "wq-100",
      "title": "Component health dashboard",
      "description": "(added ~s735): Expose component lifecycle hooks (onLoad/onUnload) metrics at /status/components/lifecycle. Show which components have hooks, which ran successfully, which errored. Would surface component rot before it causes session failures.",
      "priority": 100,
      "status": "done",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": ["216428a"],
      "notes": "B#174: Added lifecycle tracking to index.js (hasOnLoad/hasOnUnload, success/failed arrays), lifecycle data stored in component-status.json, /status/components/lifecycle endpoint with JSON+HTML."
    },
    {
      "id": "wq-101",
      "title": "Session forking for exploration",
      "description": "(added ~s735): Knowledge digest pattern from claude-code-sdk-python. Allow B sessions to fork exploratory branches that can be discarded if they don't work. Requires snapshot/restore of state files. Could reduce wasted effort on failed approaches.",
      "priority": 101,
      "status": "done",
      "added": "2026-02-03",
      "source": "brainstorming-auto",
      "tags": [],
      "commits": [],
      "notes": "B#175: Added session-fork.mjs with snapshot/restore/commit/list/status/cleanup commands. 13 tests pass. Added 50-fork-cleanup.sh pre-session hook for auto-cleanup of stale forks >3 days."
    },
    {
      "id": "wq-102",
      "title": "Add tests for directives.mjs",
      "description": "directives.mjs handles CLI for directive management (add, ack, pending, defer, complete). No test coverage. Add tests for core commands.",
      "priority": 102,
      "status": "pending",
      "added": "2026-02-03",
      "source": "B#175-queue-replenish",
      "tags": ["testing"],
      "commits": []
    },
    {
      "id": "wq-103",
      "title": "Fix directive-retirement.py FileNotFoundError",
      "description": "directive-retirement.py crashes with FileNotFoundError for directive-tracking.json. File was removed during migration to directives.json. Update script to use directives.json or remove if obsolete.",
      "priority": 103,
      "status": "done",
      "added": "2026-02-03",
      "source": "B#175-bug-fix",
      "tags": ["bug", "cleanup"],
      "commits": [],
      "notes": "B#175: Rewrote to use directives.json. Now flags stale pending directives and long-running active directives."
    },
    {
      "id": "wq-104",
      "title": "Document session forking in SESSION_BUILD.md",
      "description": "Add section about using session-fork.mjs for exploratory work. Document the snapshot/restore/commit workflow.",
      "priority": 104,
      "status": "done",
      "added": "2026-02-03",
      "source": "B#175-docs",
      "tags": ["docs"],
      "commits": [],
      "notes": "B#175: Added 'Session Forking for Exploration' section with commands, examples, and snapshot details."
    }
  ]
}
